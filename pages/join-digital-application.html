<style type="text/css">
    #CustomFormForm{
        margin: 0 auto;
    }
    td#SpContent_Container{
        padding-right: 15px;
    }
    input[type="submit"]{
        display: block;
        width: 100%;
        max-width: 500px;
    }
    /* Infobox */
    .infobox img:first-child{
        display: none;
    }
    /* Hide Pagination Legend */
    #CustomFormForm .CustomFormTable:first-of-type tr:first-child{
        display: none;
    }
    /* Layout */
    #SpTitleBar{
        margin-bottom: 0px;
        text-align: center;
    }
    #CFormErrors + .CustomFormTable{
        display: block;
        margin-bottom: 30px;
        text-align: center;
        border-top-style: solid;
        border-bottom-style: solid;
        border-width: 1px;
        border-color: #6fd4e4;
    }
    .CustomFormTable tr{
        margin-bottom: 0px;
        border: none;
    }
    .CustomFormTable tbody:first-child{
        display: block;
        text-align: center;
    }
    /* Pagination */
    #pagination0,
    #pagination1,
    #pagination2,
    #pagination3,
    #pagination0 a,
    #pagination1 a,
    #pagination2 a,
    #pagination3 a,
    #pagination0 a:after,
    #pagination1 a:after,
    #pagination2 a:after,
    #pagination3 a:after,
    #CustomFormPager div, 
    #CustomFormPagerLegend div{
        cursor: default !important;
    }
    /* Form Page */
    #formpage0,
    #formpage1,
    #formpage2,
    #formpage3{
        margin-bottom: 50px;
    }
    /* Section Headers */
    /* Section Headers - Set Size of all Section Headers */
    #formpage0 tr:nth-child(2) label,
    #formpage0 tr:nth-child(6) label,
    #formpage0 tr:nth-child(13) label,
    #formpage0 tr:nth-child(18) label,
    #formpage1 tr:nth-child(2) label,
    #formpage1 tr:nth-child(9) label,
    #formpage1 tr:nth-child(16) label,
    #formpage1 tr:nth-child(24) label{
        margin-bottom: 30px;
        font-size: 20px;
        font-weight: bold;
        color: #555555;
    }
    /* Section Headers - Set Padding and Borders for all section headers but first */
    #formpage0 tr:nth-child(6) label,
    #formpage0 tr:nth-child(13) label,
    #formpage0 tr:nth-child(18) label,
    #formpage1 tr:nth-child(9) label,
    #formpage1 tr:nth-child(16) label,
    #formpage1 tr:nth-child(24) label{
        clear: both;
        margin-top: 0px;
        padding-top: 50px;
    }
    /* Section Headers - Hide tr for description of section header */
    #formpage0 tr:nth-child(3),
    #formpage0 tr:nth-child(7),
    #formpage0 tr:nth-child(14),
    #formpage0 tr:nth-child(19){
        display: none;
    }
    /* Form Errors */
    #CFormErrors{
        display: none;
    }
    @media only screen and (min-width: 767px){
        /* Pagination */
        #CustomFormPager div,
        #CustomFormPager .current,
        #CustomFormPager .invalid{
            width: 100px;
            margin-left: 45px;
        }
        #pagination0::after{
            content:"Institution"
        }
        #pagination1::after{
            content:"Staff"
        }
        #pagination2::after{
            content:"Eligibility"
        }
        #pagination3::after{
            content:"Confirmation"
        }
        #CustomFormPager div a{
            left: -45px;
        }
        /* Page 1 Layout */
        #formpage0 tr:nth-child(4){
            width: 48%;
            margin: 0% 1%;
            float: left;
        }
        #formpage0 tr:nth-child(5){
            width: 48%;
            margin: 0% 1%;
            float: left;
        }
        #formpage0 tr:nth-child(5):after{
            content: "";
            display: block;
            clear: both;
        }
        #formpage0 tr:nth-child(8){
            width: 48%;
            margin: 0% 1%;
            float: left;
            clear: both;
        }
        #formpage0 tr:nth-child(9){
            width: 48%;
            margin: 0% 1%;
            float: left;
        }
        #formpage0 tr:nth-child(9):after{
            content: "";
            display: block;
            clear: both;
        }
        #formpage0 tr:nth-child(10){
            width: 31%;
            margin: 0% 1%;
            float: left;
            clear: both;
        }
        #formpage0 tr:nth-child(11){
            width: 31%;
            margin: 0% 1%;
            float: left;
        }
        #formpage0 tr:nth-child(12){
            width: 31%;
            margin: 0% 1%;
            float: left;
        }
        #formpage0 tr:nth-child(12):after{
            content: "";
            display: block;
            clear: both;
        }
        #formpage0 tr:nth-child(15){
            width: 31%;
            margin: 0% 1%;
            float: left;
            clear: both;
        }
        #formpage0 tr:nth-child(16){
            width: 31%;
            margin: 0% 1%;
            float: left;
        }
        #formpage0 tr:nth-child(17){
            width: 31%;
            margin: 0% 1%;
            float: left;
        }
        #formpage0 tr:nth-child(17):after{
            content: "";
            display: block;
            clear: both;
        }
        #formpage0 tr:nth-child(20){
            width: 31%;
            margin: 0% 1%;
            float: left;
            clear: both;
        }
        #formpage0 tr:nth-child(21){
            width: 31%;
            margin: 0% 1%;
            float: left;
        }
        #formpage0 tr:nth-child(22){
            width: 31%;
            margin: 0% 1%;
            float: left;
        }
        #formpage0 tr:nth-child(22):after{
            content: "";
            display: block;
            clear: both;
        }
        /* Page 2 Layout */
        #formpage1 tr:nth-child(3),
        #formpage1 tr:nth-child(10),
        #formpage1 tr:nth-child(17),
        #formpage1 tr:nth-child(25){
            display: block; 
            margin-bottom: 30px;
        }
        #formpage1 tr:nth-child(4){
            width: 18%;
            margin: 0% 1%;
            float: left;
        }
        #formpage1 tr:nth-child(5){
            width: 38%;
            margin: 0% 1%;
            float: left;
        }
        #formpage1 tr:nth-child(6){
            width: 38%;
            margin: 0% 1%;
            float: left;
        }
        #formpage0 tr:nth-child(6):after{
            content: "";
            display: block;
            clear: both;
        }
        #formpage1 tr:nth-child(7){
            width: 48%;
            margin: 0% 1%;
            float: left;
            clear: both;
        }
        #formpage1 tr:nth-child(8){
            width: 48%;
            margin: 0% 1%;
            float: left;
        }
        #formpage0 tr:nth-child(8):after{
            content: "";
            display: block;
            clear: both;
        }
        /* Billing Contact */
        #formpage1 tr:nth-child(11){
            width: 18%;
            margin: 0% 1%;
            float: left;
        }
        #formpage1 tr:nth-child(12){
            width: 38%;
            margin: 0% 1%;
            float: left;
        }
        #formpage1 tr:nth-child(13){
            width: 38%;
            margin: 0% 1%;
            float: left;
        }
        #formpage0 tr:nth-child(13):after{
            content: "";
            display: block;
            clear: both;
        }
        #formpage1 tr:nth-child(14){
            width: 48%;
            margin: 0% 1%;
            float: left;
            clear: both;
        }
        #formpage1 tr:nth-child(15){
            width: 48%;
            margin: 0% 1%;
            float: left;
        }
        #formpage0 tr:nth-child(15):after{
            content: "";
            display: block;
            clear: both;
        }
        /* Champion Contact */
        #formpage1 tr:nth-child(18){
            width: 18%;
            margin: 0% 1%;
            float: left;
        }
        #formpage1 tr:nth-child(19){
            width: 38%;
            margin: 0% 1%;
            float: left;
        }
        #formpage1 tr:nth-child(20){
            width: 38%;
            margin: 0% 1%;
            float: left;
        }
        #formpage0 tr:nth-child(20):after{
            content: "";
            display: block;
            clear: both;
        }
        #formpage1 tr:nth-child(21){
            width: 48%;
            margin: 0% 1%;
            float: left;
            clear: both;
        }
        #formpage1 tr:nth-child(22){
            width: 48%;
            margin: 0% 1%;
            float: left;
        }
        #formpage0 tr:nth-child(22):after{
            content: "";
            display: block;
            clear: both;
        }
        /* Co-Champion Contact */
        #formpage1 tr:nth-child(26){
            width: 18%;
            margin: 0% 1%;
            float: left;
        }
        #formpage1 tr:nth-child(27){
            width: 38%;
            margin: 0% 1%;
            float: left;
        }
        #formpage1 tr:nth-child(28){
            width: 38%;
            margin: 0% 1%;
            float: left;
        }
        #formpage0 tr:nth-child(28):after{
            content: "";
            display: block;
            clear: both;
        }
        #formpage1 tr:nth-child(29){
            width: 48%;
            margin: 0% 1%;
            float: left;
            clear: both;
        }
        #formpage1 tr:nth-child(30){
            width: 48%;
            margin: 0% 1%;
            float: left;
        }
        #formpage0 tr:nth-child(30):after{
            content: "";
            display: block;
            clear: both;
        }
    }
</style>
<script type="text/javascript">
    $(document).ready(function(){
        /* Initialize Global Variables */$
        var current_page = 1;
        var selected_country = "";
        /* Initialization Functions */
        initial_adjustments();
        validate();
        check_if_fields_prefilled();
        /* Event Listeners */
        $("#formpage_nextBtn").live("click", function(){
            validate();
        });
        $(".formpage-next-disabled").live("click", function(){
            display_errors();
        });
        $("#formpage_prevBtn").live("click", function(){
            enable_next();
        });
        $("[name='Custom_Country']").change(function(){
            selected_country = $(this).val();
            display_eligibility_requirements(selected_country);
        });
        $("[type='text'], textarea").keyup(function(){
            if( !$(this).val() ){
                $(this).css("border-color","#d0d0d0");
                $(this).css("color","#555555");
            }else{
                $(this).css("border-color","#b7bf34");
                $(this).css("color","#b7bf34");
                $(this).siblings(".form-error-notification").remove();
            }
            validate();
        });
        $("[type='file']").change(function(){
            if( !$(this).val() ){
                $(this).css("border-color","#d0d0d0");
                $(this).css("color","#555555");
            }else{
                $(this).css("border-color","#b7bf34");
                $(this).css("color","#b7bf34");
                $(this).siblings(".form-error-notification").remove();
            }
            validate();
        });
        $("select").change(function(){
            if( !$(this).val() ){
                $(this).css("border-color","#d0d0d0");
                $(this).css("color","#555555");
            }else{
                $(this).css("border-color","#b7bf34");
                $(this).css("color","#b7bf34");
                $(this).siblings(".form-error-notification").remove();
            }
            validate();
        });
        $("[type='checkbox'],[type='radio']").change(function(){
            if( !$(this).prop("checked") ){
                $(this).css("border-color","#d0d0d0");
                $(this).siblings("[type='checkbox'],[type='radio']").css("border-color","#d0d0d0");
            }else{
                $(this).css("border-color","#b7bf34");
                $(this).siblings("[type='checkbox'],[type='radio']").css("border-color","#b7bf34");
                $(this).siblings(".form-error-notification").remove();
            }
            validate();
        });
        function initial_adjustments(){
            $("#pagination0").attr("onclick","");
            $("#pagination1").attr("onclick","");
            $("#pagination2").attr("onclick","");
            $("#pagination3").attr("onclick","");
            $("#pagination4").attr("onclick","");
            $("#formpage_nextBtn").attr("value","Next >");
            $("#formpage_saveLnk a").html("Save Progress");
            $("#formpage_prevBtn").html("< Previous");
            $("#CFORM_2302069_Custom_ElectronicSignature_0").removeAttr("checked");
        }
        function check_if_fields_prefilled(){
            $("[type='text'], select, textarea").each(function(){
                if( !$(this).val() ){
                    $(this).css("border-color","#d0d0d0");
                    $(this).css("color","#555555");
                }else{
                    $(this).css("border-color","#b7bf34");
                    $(this).css("color","#b7bf34");
                }
            });
        }
        function display_eligibility_requirements(selected_country){
            if(selected_country == "United States of America"){
                // Show US Confimration and make required
                $("[name='Custom_Ifyesbywhichaccreditingbody']").attr("required","required");
                $("#formpage2 .CustomFormTable tr:nth-child(2)").css("display","block");
                // Hide Non-US Confimration and make optional
                $("[name='Custom_Ifapplicablewhenisyournextinstitutionalaccreditationvisityear']").removeAttr("required");
                $("[name='Custom_GovernmentDocuments']").removeAttr("required");
                $("#formpage2 .CustomFormTable tr:nth-child(3)").css("display","none");
                $("#formpage2 .CustomFormTable tr:nth-child(4)").css("display","none");
                $("#formpage2 .CustomFormTable tr:nth-child(5)").css("display","none");
                $("#formpage2 .CustomFormTable tr:nth-child(6)").css("display","none");
                $("#formpage2 .CustomFormTable tr:nth-child(7)").css("display","none");
                $("#formpage2 .CustomFormTable tr:nth-child(8)").css("display","none");
            }else{
                // Hide US Confimration and make optional
                $("#formpage2 .CustomFormTable tr:nth-child(2)").css("display","none");
                $("[name='Custom_Ifyesbywhichaccreditingbody']").removeAttr("required");
                // Show Non-US Confimration and make required
                $("[name='Custom_Ifapplicablewhenisyournextinstitutionalaccreditationvisityear']").attr("required","required");
                $("[name='Custom_GovernmentDocuments']").attr("required","required");
                $("#formpage2 .CustomFormTable tr:nth-child(3)").css("display","block");
                $("#formpage2 .CustomFormTable tr:nth-child(4)").css("display","block");
                $("#formpage2 .CustomFormTable tr:nth-child(5)").css("display","block");
                $("#formpage2 .CustomFormTable tr:nth-child(6)").css("display","block");
                $("#formpage2 .CustomFormTable tr:nth-child(7)").css("display","block");
                $("#formpage2 .CustomFormTable tr:nth-child(8)").css("display","block");
            }
        }
        function determine_current_page(){
            /* Determine Current Page */
            var page_one_visibility = $("#formpage0").attr("style");
            var page_two_visibility = $("#formpage1").attr("style");
            var page_three_visibility = $("#formpage2").attr("style");
            var page_four_visibility = $("#formpage3").attr("style");
            if( page_one_visibility != "display: none;"){
                current_page = 1;
            }
            if( page_two_visibility != "display: none;"){
                current_page = 2;
            }
            if( page_three_visibility != "display: none;"){
                current_page = 3;
            }
            if( page_four_visibility != "display: none;"){
                current_page = 4;
            }
        }
        function validate(){
            determine_current_page();
            if(current_page == 1){
                console.log("current page: one");
                validate_page_one();
            }
            if(current_page == 2){
                console.log("current page: two");
                validate_page_two();
            }
            if(current_page == 3){
                console.log("current page: three");
                validate_page_three();
            }
            if(current_page == 4){
                console.log("current page: four");
                validate_page_four();
            }
        }
        function validate_page_one(){
            var page_one_valid = true;
            /* check for empty text, select and textareas */
            $("#formpage0 input, #formpage0 select, #formpage0 textarea").each(function(){
                var current_field_value = $(this).val();
                if(!current_field_value){
                    page_one_valid = false;
                }
            });
            /* check for empty checkboxes and radios */
            if ($("input[name='Custom_TypeofInstitutioncheckallthatapply']:checked").length < 1) {
                page_one_valid = false;
            }else{
                $("#CFORM_2302069_Custom_TypeofInstitutioncheckallthatapply_0").siblings(".form-error-notification").remove();
            }
            if ($("input[name='Custom_Ifyeswillyoubeenrollingadditionalcampusesaddlinformationduesmayberequired']:checked").length < 1) {
                page_one_valid = false;
            }else{
                $("#CFORM_2302069_Custom_Ifyeswillyoubeenrollingadditionalcampusesaddlinformationduesmayberequired_0").siblings(".form-error-notification").remove();
            }
            if ($("input[name='Custom_Doesyourinstitutiongrantthefollowingbusinessdegreescheckallthatapply']:checked").length < 1) {
                page_one_valid = false;
            }else{
                $("#CFORM_2302069_Custom_Doesyourinstitutiongrantthefollowingbusinessdegreescheckallthatapply_0").siblings(".form-error-notification").siblings(".form-error-notification").remove();
            }
            if(page_one_valid == true){
                enable_next();
            }else{
                disable_next();
            }
        }
        function validate_page_two(){
            var page_two_valid = true;
            /* check for empty text, select and textareas */
            $("#formpage1 input, #formpage1 select, #formpage1 textarea").each(function(){
                var current_field_value = $(this).val();
                if(!current_field_value){
                    page_two_valid = false;
                }
            });
            if(page_two_valid == true){
                enable_next();
            }else{
                disable_next();
            }
        }
        function validate_page_three(){
            var page_three_valid = true;
            if(selected_country == "United States of America"){
                /* check for empty text, select and textareas */
                $("#CFORM_2302069_Custom_Ifyesbywhichaccreditingbody").each(function(){
                    var current_field_value = $(this).val();
                    if(!current_field_value){
                        page_three_valid = false;
                    }
                });
            }else{
                var internation_eligibility_fields = [
                    "#CFORM_2302069_Custom_GovernmentDocuments",
                    "#CFORM_2302069_Custom_Ifapplicablewhenisyournextinstitutionalaccreditationvisityear"
                ];
                /* check for empty text, select and textareas */
                $.each(internation_eligibility_fields, function(index,value){
                    var current_field_value = $(value).val();
                    if(!current_field_value){
                        page_three_valid = false;
                    }
                });
            }
            if(page_three_valid == true){
                enable_next();
            }else{
                disable_next();
            }
        }
        function validate_page_four(){
            var page_four_valid = true;
            /* check for empty text, select and textareas */
            if ($("#CFORM_2302069_Custom_ElectronicSignature_0:checked").length < 1) {
                disable_submit();
            }else{
                enable_submit();
            }
        }
        function display_errors(){
            if($("#formpage_next").children(".form-error-notification").length <= 0){
                $("#formpage_next").append('<span class="form-error-notification">Please complete all fields</span>');
            }
            if($("#CFormCaptchaSubmit").children(".form-error-notification").length <= 0){
                $("#CFormCaptchaSubmit").append('<span class="form-error-notification">Please approve confirmation.</span>');
            }
            determine_current_page();
            if(current_page == 1){
                $("#formpage0 input, #formpage0 select, #formpage0 textarea").each(function(){
                    var current_field_value = $(this).val();
                    if(!current_field_value){
                        $(this).css("border-color","#ff0000");
                        if($(this).siblings(".form-error-notification").length <= 0){
                            $(this).parent().append('<span class="form-error-notification">Required</span>');
                        }
                    }
                });
                if ($("input[name='Custom_TypeofInstitutioncheckallthatapply']:checked").length < 1) {
                    $("input[name='Custom_TypeofInstitutioncheckallthatapply']").css("border-color","#ff0000");
                    if($("#CFORM_2302069_Custom_TypeofInstitutioncheckallthatapply_0").siblings(".form-error-notification").length <= 0){
                        $("#CFORM_2302069_Custom_TypeofInstitutioncheckallthatapply_0").parent().append('<span class="form-error-notification checkbox-notification">Required</span>');
                    }
                }
                if ($("input[name='Custom_Ifyeswillyoubeenrollingadditionalcampusesaddlinformationduesmayberequired']:checked").length < 1) {
                    $("input[name='Custom_Ifyeswillyoubeenrollingadditionalcampusesaddlinformationduesmayberequired']").css("border-color","#ff0000");
                    if($("#CFORM_2302069_Custom_Ifyeswillyoubeenrollingadditionalcampusesaddlinformationduesmayberequired_0").siblings(".form-error-notification").length <= 0){
                        $("#CFORM_2302069_Custom_Ifyeswillyoubeenrollingadditionalcampusesaddlinformationduesmayberequired_0").parent().append('<span class="form-error-notification checkbox-notification">Required</span>');
                    }
                }
                if ($("input[name='Custom_Doesyourinstitutiongrantthefollowingbusinessdegreescheckallthatapply']:checked").length < 1) {
                    $("input[name='Custom_Doesyourinstitutiongrantthefollowingbusinessdegreescheckallthatapply']").css("border-color","#ff0000");
                    if($("#CFORM_2302069_Custom_Doesyourinstitutiongrantthefollowingbusinessdegreescheckallthatapply_0").siblings(".form-error-notification").length <= 0){
                        $("#CFORM_2302069_Custom_Doesyourinstitutiongrantthefollowingbusinessdegreescheckallthatapply_0").parent().append('<span class="form-error-notification checkbox-notification">Required</span>');
                    }
                }
            }
            if(current_page == 2){
                $("#formpage1 input, #formpage1 select, #formpage1 textarea").each(function(){
                    var current_field_value = $(this).val();
                    if(!current_field_value){
                        $(this).css("border-color","#ff0000");
                        $(this).parent().append('<span class="form-error-notification">Required</span>');
                    }
                });
            }
            if(current_page == 3){
                $("#formpage2 input, #formpage2 select, #formpage2 textarea").each(function(){
                    var current_field_value = $(this).val();
                    if(!current_field_value){
                        $(this).css("border-color","#ff0000");
                        $(this).parent().append('<span class="form-error-notification">Required</span>');
                    }
                });
            }
            if(current_page == 4){
                $("#formpage3 input, #formpage3 select, #formpage3 textarea").each(function(){
                    var current_field_value = $(this).val();
                    if(!current_field_value){
                        $(this).css("border-color","#ff0000");
                        $(this).parent().append('<span class="form-error-notification">Required</span>');
                    }
                });
            }
        }
        function enable_next(){
            $("#formpage_next").children(".form-error-notification").remove;
            $("#formpage_next").html('<input id="formpage_nextBtn" type="button" class="formbutton" onclick="ShowCustomFormPage(&quot;next&quot;, 4);" value="Next >">');
        }
        function disable_next(){
            console.log("disable");
            $("#formpage_next").html('<div class="formpage-next-disabled">Next ></div>');
        }
        function enable_submit(){
            $("#CFormCaptchaSubmit").children(".form-error-notification").remove;
            $("#CFormCaptchaSubmit").html('<input type="submit" name="btnSubmit" value="Submit" class="formbutton" onclick="return SubmitCustomForm(\'False\');">');
        }
        function disable_submit(){
            console.log("disable");
            $("#CFormCaptchaSubmit").html('<div class="formpage-next-disabled">Submit</div>');
        }
    });
</script>